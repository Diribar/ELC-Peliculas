<div id="tapar-el-fondo"></div>
<form method="POST" enctype="multipart/form-data">
	<div id="tituloPrincipal">
		<h1><%= titulo %></h1>
		<!-- Ayuda -->
		<div class="ayuda">
			<i class="fa-solid fa-circle-question ayudaClick despl_click">
				<ul class="ayudaMostrar ocultar despl_mostrar" type="dots">
					<li>Por favor brindanos los datos que figuran en tu Documento <em><u>Nacional</u></em> de Identidad.</li>
					<li>La fidelidad de los datos es condición necesaria para validar tu identidad.</li>
				</ul>
			</i>	
		</div>
	</div>
	<!-- Datos -->
	<section class="flex-row">
		<!-- Varios -->
		<div id="columna1">
			<!--Nombre-->
			<div class="label-input flex-col">
				<label for="nombre">Nombre</label>
				<div class="inputError">
					<% nombre = dataEntry ? dataEntry.nombre : "" %>
					<input type="text" class="input" name="nombre" placeholder="Nombre" value="<%= nombre %>">
					<%- include("CMP-Errores", {campo: "nombre", display: true}) %> 
				</div>
			</div>
			<!--Apellido-->
			<div class="label-input flex-col">
				<label for="apellido">Apellido</label>
				<div class="inputError">
					<% apellido = dataEntry ? dataEntry.apellido : "" %>
					<input type="text" class="input" name="apellido" placeholder="Apellido" value="<%= apellido %>">
					<%- include("CMP-Errores", {campo: "apellido", display: true}) %> 
				</div>
			</div>
			<!--Rol en la iglesia-->
			<div class="label-input flex-col">
				<label for="rol_iglesia_id">Rol en la Iglesia<br>Católica</label>
				<div class="inputError">
					<% rol_iglesia_id = dataEntry ? dataEntry.rol_iglesia_id : "" %>
					<select name="rol_iglesia_id" class="input" required>
						<option value="" <% if (!rol_iglesia_id) { %>selected<% } %>>Elejí una opción</option>
						<% for (let rol_iglesia of roles_iglesia) { %>
							<option value="<%= rol_iglesia.id %>" <% if (rol_iglesia_id == rol_iglesia.id) { %>selected<% } %>><%= rol_iglesia.nombre %></option>
						<% } %> 
					</select>
					<%- include("CMP-Errores", {campo: "rol_iglesia_id", display: true}) %>
				</div>
			</div>
			<!--Fecha de Nacimiento-->
			<div class="label-input flex-col">
				<label for="fecha_nacimiento">Fecha de Nacimiento</label>
				<div class="inputError">
					<% fecha_nacimiento = dataEntry ? dataEntry.fecha_nacimiento : "" %>
					<input type="date" name="fecha_nacimiento" class="input" value="<%= fecha_nacimiento %>">
					<%- include("CMP-Errores", {campo: "fecha_nacimiento", display: true}) %> 
				</div>
			</div>
		</div>
		<!-- Documento -->
		<div id="columna2">
			<!--Número de Documento-->
			<div class="label-input flex-col">
				<label for="docum_numero">Número de Documento</label>
				<div class="inputError">
					<input type="text" id="docum_numero" class="input" name="docum_numero" placeholder="Número de Documento" value="<%= dataEntry ? dataEntry.docum_numero : "" %>">
					<%- include("CMP-Errores", {campo: "docum_numero", display: true}) %>
				</div>
			</div>
			<!--Expedido en qué país-->
			<div class="label-input flex-col">
				<label for="docum_pais_id">Expedido en qué país</label>
				<div class="inputError">
					<select id="docum_pais_id" name="docum_pais_id" class="input" required>
						<option value="" <% if (dataEntry.docum_pais_id=="") {%>selected <%}%>>Elejí un país</option>
						<optgroup label="América (habla hispana)">
							<% for (let pais of hablaHispana.filter(n => n.continente == "América")) { %>
								<option value="<%= pais.id %>" <% if (dataEntry.docum_pais_id==pais.id) { %>selected <% } %>>
									<%= pais.nombre %>
								</option>
							<% } %>	
						</optgroup>
						<optgroup label="Europa/África (habla hispana)">
							<% for (let pais of hablaHispana.filter(n => n.continente != "América")) { %>
								<option value="<%= pais.id %>" <% if (dataEntry.docum_pais_id==pais.id) { %>selected <% } %>>
									<%= pais.nombre %>
								</option>
							<% } %>
						</optgroup>
						<optgroup label="Países de habla no hispana">
							<% for (let pais of hablaNoHispana) { %>
								<option value="<%= pais.id %>" <% if (dataEntry.docum_pais_id==pais.id) { %>selected <% } %>>
									<%= pais.nombre %>
								</option>
							<% } %>
						</optgroup>
					</select>
					<%- include("CMP-Errores", {campo: "docum_pais_id", display: true}) %>
				</div>
			</div>
			<!--Credenciales Inválidas-->
			<% if (errores && errores.credenciales) { %>
				<div id="credencialesInvalidas" class="inputError">
					<p>Credenciales inválidas</p>
					<div class="ayuda">
						<i class="fa-solid fa-circle-question ayudaClick">
							<span class="ayudaMostrar ocultar">Ya tenemos ingresada esa combinación de <em>Número de Documento</em> y <em>País</em> en nuestra Base de Datos.</span>
						</i>	
					</div>
				</div>
			<% } %>
			<!--Imagen del documento-->
			<div class="label-input flex-col">
				<label>Imagen del documento</label>
				<div class="inputError flex-col" id="divImagen">
					<label for="inputImagen" id="preview">
						<img src="<%= avatar %>">
					</label>
					<input name="avatar" type="file" id="inputImagen" accept="image/*" class="input ocultar">
					<!-- Errores -->
					<div class="errores">
						<i 
							class="fa-solid fa-circle-xmark<%- !errores.avatar ? ' ocultar' : '' %>"
							<% if (locals.z_index) { %>style="z-index: <%= z_index %> "<% } %>
						>
							<span class="mensajeError"><%- errores.avatar ? errores.avatar : "" %></span>
						</i>
						<i class="fa-solid fa-circle-check<%- (errores.avatar || avatar.includes("imagenes/0-Base")) ? ' ocultar' : '' %>"></i>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!--Flechas-->
	<section id="flechas" class="flex-row">
		<!-- Salir -->
		<a href="<%= urlSalir %>" tabindex="-1"><i class="fa-solid fa-circle-left" title="Salir"></i></a>
		<!-- Submit -->
		<button type="submit" class="inactivo"><i class="fa-solid fa-circle-check" title="Aceptar"></i></button>
	</section>
</form>