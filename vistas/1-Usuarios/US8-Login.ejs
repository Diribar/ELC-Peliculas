<div id="tapar-el-fondo"></div>
<form method="POST" id="dataEntry">
	<h1>Login</h1>
	<!-- Datos -->
	<section id="datos">
		<% for (let variable of variables) { %>
			<div class="labelInput flexRow">
				<label for="<%= variable.name %>"><%= variable.titulo %></label>
				<div class="inputError">
					<!-- Input -->
					<input class="input" 
						value="<%= dataEntry ? dataEntry[variable.name] : '' %>" 
						type="<%= variable.type %>" 
						name="<%= variable.name %>" 
						placeholder="<%= variable.placeholder %>" 
						<% if (dataEntry && errores[variable.name]) { %>autofocus<% } %> 
						<% if (dataEntry) { %>autocomplete= 'new-password'<% } %>
					>
					<!-- El autocomplete= 'new-password' es para prevenir el 'autocomplete' -->
					<!-- Ojito contraseña -->
					<% if (variable.name == "contrasena") { %><i id="eye" class="fa-solid fa-eye-slash"></i><% } %>
					<!-- Error/OK -->
					<%- include("CMP-Errores", {nombre: variable.name, display: true}) %>
				</div>
			</div>
		<% } %>
	</section>
	<!--Credenciales Inválidas-->
	<div class="flexCol">
		<p id="credencialesInvalidas" class="<%- !errores || !errores.credenciales ? 'ocultar' : '' %>">Credenciales inválidas</p>
	</div>
	<div class="flexRow">
		<!--Flechas-->
		<div class="flechas">
			<!-- Salir -->
			<a href="<%= urlSalir %>" tabindex="-1">
				<i class="fa-solid fa-circle-left" title="Salir"></i>
			</a>
			<!-- Submit -->
			<button type="submit" class="<%- errores ? 'inactivo' : '' %>" autofocus>
				<i class="fa-solid fa-circle-check" title="Login"></i>
			</button>
		</div>
		<div class="flechas">
			<!-- Olvido de contraseña -->
			<a href="/usuarios/olvido-contrasena" tabindex="-1" class="rojo negrita"><i class="fa-solid fa-key" title="Olvidé mi contraseña"></i></a>
			<!-- Nuevo usuario -->
			<a href="/usuarios/alta-mail" tabindex="-1"><i class="fa-solid fa-user-plus" title="Registrarme"></i></a>
		</div>
	</div>
</form>