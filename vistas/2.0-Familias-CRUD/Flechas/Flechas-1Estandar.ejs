<link rel="stylesheet" href="/formatos/0-Compartido/Main/Flechas.css">
<% const detalle = (tema == "prod_rud" || tema == "rclv_crud") && codigo == "detalle" %>
<% const ABMlinks = tema == "links_crud" && codigo == "abmLinks" %>
<% const calificar = tema == "prod_rud" && codigo == "calificar" %>
<% const IRE = tema == "crud" %><!-- Inactivar, Recuperar, Eliminar -->
<% const consultaLinks = tema == "revisionEnts" && codigo == "abmLinks" && registro.statusRegistro_id == creadoAprob_id %>
<% const terminaste = tema == "prodAgregar" && locals.id %>
<div class="flechas">
	<% if (IRE || locals.origen && !locals.origen.startsWith("DT")) { %><!-- Cuando es IRE o tiene origen distinto a 'DT' -->
		<!-- Salir -->
		<a href="<%= '/inactivar-captura/?entidad=' + (locals.prodEntidad ? prodEntidad : entidad) + (locals.prodID || locals.id ? ('&id=' + (locals.prodID?prodID:id)) : '') + '&origen=' + origen %>">
			<i class="fa-solid fa-circle-left" tabindex="-1" title="Liberar y salir"></i>
		</a>
	<% } %>
	<% if (!detalle && !IRE && !consultaLinks) { %>
		<!-- Detalle -->
		<a href="<%= '/' + familia + '/detalle/?entidad=' + entidad + '&id=' + id + (locals.origen && !origen.startsWith("DT") ? ('&origen=' + origen) : '') %>">
			<i class="fa-solid fa-circle-info" tabindex="-1" title="Ir a la vista 'Detalle'"></i>
		</a>
	<% } %>
	<% if (terminaste || detalle || ABMlinks || calificar) { %>
		<!-- Edición -->
		<% if (locals.status_id && status_id <= aprobado_id) { %>
			<a href="<%= '/' + familia + '/edicion/?entidad=' + entidad + '&id=' + id + (locals.origen && !origen.startsWith("DT") ? ('&origen=' + origen) : '') %>">
				<i class="fa-solid fa-pen" tabindex="-1" title="Ir a la vista 'Edición'"></i>
			</a>
		<% } else { %>
			<i class="fa-solid fa-pen inactivo" tabindex="-1" title="Ir a la vista 'Edición'"></i>
		<% } %>
		<% if (!ABMlinks) { %>
			<!-- Links -->
			<% if (status_id <= aprobado_id) { %>
				<a href="<%= '/links/abm/?entidad=' + entidad + '&id=' + id + (locals.origen && !origen.startsWith("DT") ? ('&origen=' + origen) : '') %>">
					<i class="fa-solid fa-link" tabindex="-1" title="Ir a la vista 'Links'"></i>
				</a>
			<% } else { %>
				<i class="fa-solid fa-link inactivo" tabindex="-1" title="Ir a la vista 'Links'"></i>
			<% } %>
		<% } %>
		<% if (!calificar) { %>
			<!-- Calificar -->
			<% if (locals.status_id && status_id <= aprobado_id) { %>
				<a href="<%= '/producto/calificar/?entidad=' + entidad + '&id=' + id + (locals.origen && !origen.startsWith("DT") ? ('&origen=' + origen) : '') %>">
					<i class="fa-solid fa-user-graduate" tabindex="-1" title="Califica<%= (entidad=="capitulos" ? "lo" : "la") %>"></i>
				</a>
			<% } else { %>
				<i class="fa-solid fa-user-graduate inactivo" tabindex="-1" title="Califica<%= (entidad=="capitulos" ? "lo" : "la") %>"></i>
			<% } %>
		<% } %>
	<% } %>
	<% if (tema == "revisionEnts") { %>
		<% if (codigo == "producto/edicion") { %>
			<!-- Link para Revisión de Edición -->
			<a href="<%= '/revision/links/?entidad=' + entidad + '&id=' + id + '&origen=REP' %>">
				<i class="fa-solid fa-link" tabindex="-1" title="Para ver los links"></i>
			</a>
		<% } else if (codigo == "abmLinks" && locals.origen != "REP") { %>
			<!-- Link para Revisión de Edición -->
			<a href="<%= siguienteProducto %>">
				<i class="fa-solid fa-circle-right" tabindex="-1" title="Para ver el siguiente producto"></i>
			</a>
		<% } %>
	<% } %>
</div>
