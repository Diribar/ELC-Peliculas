<% const condic1 = tema == "rclv_crud" && (codigo == "agregar" || codigo == "edicion") %>
<% const condic2 = tema == "revisionEnts" && codigo == "rclv/solapamiento" %>
<% if (condic1 || condic2) { %>
	<!-- VISTA CRUD AGREGAR/EDICION RCLV - Para Aprobar -->
	<div class="flechas">
		<!-- Eliminar edici贸n -->
		<% if (codigo == "edicion" && edicID) { %>
			<label for="eliminaEdicion" title="Eliminar la Edici贸n">
				<i class="fa-solid fa-trash-can"></i>
			</label>
			<input id="eliminaEdicion" type="submit" class="submit" formaction="<%= urlActual %>/?ingreso_fa=true" formmethod="post" >
		<% } %> 
		<!-- Aprobar -->
		<button type="submit" autofocus class="inactivo">
			<i class="fa-solid fa-circle-check" title="Guardar"></i>
		</button>
	</div>
<% } %>

<% if (locals.statusCreado) { %>
	<!-- VISTA REVISION ALTA - Para Aprobar o ir a la vista Rechazar -->
	<div class="flechas">
		<!-- Aprobar -->
		<button type="submit" autofocus>
			<i class="fa-solid fa-circle-check" title="Aprobar"></i>
		</button>
		<!-- Rechazar -->
		<a href="<%= '/revision/' + familia + '/rechazo/?entidad=' + entidad + '&id=' + id + (locals.origen ? ('&origen=' + origen) : '') %>">
			<i class="fa-solid fa-circle-xmark" tabindex="-1" title="Rechazar"></i>
		</a>
	</div>
<% } %>

<% if (locals.userIdentVal && locals.statusEstable) { %>
	<!-- VISTA DETALLE - Para ir a las vistas de Inactivar o Recuperar -->
	<!-- Usuario validado, vista 'Detalle' y status 'Estable' -->
	<div class="flechas">
		<% if ([creado_aprob_id,aprobado_id].includes(locals.status_id)) { %>
			<!-- Inactivar -->
			<a href="<%= '/' + familia + '/inactivar/?entidad=' + entidad + '&id=' + id + (locals.origen ? ('&origen=' + origen) : '') %>">
				<i class="fa-solid fa-circle-xmark" tabindex="-1" title="Ir a 'Inactivar'"></i>
			</a>
		<% } %>
		<% if (locals.status_id == inactivo_id) { %>
			<!-- Recuperar -->
			<a href="<%= '/' + familia + '/recuperar/?entidad=' + entidad + '&id=' + id + (locals.origen ? ('&origen=' + origen) : '') %>">
				<i class="fa-solid fa-circle-check" tabindex="-1" title="Ir a 'Recuperar'"></i>
			</a>
			<% if (locals.revisor) { %>
				<a href="<%= '/crud/eliminar-definitivamente/?entidad=' + entidad + '&id=' + id + (locals.origen ? ('&origen=' + origen) : '') %>">
					<i class="fa-solid fa-trash-can" tabindex="-1" title="Ir a 'Eliminar definitivamente'"></i>
				</a>
			<% } %>
		<% } %>
		<!-- Color azul para las vistas de Detalle -->
		<style>.flechas :is(.fa-circle-check, .fa-circle-xmark) {color: var(--azul-oscuro)}</style>
	</div>
<% } %>

<% if (tema == "crud" || tema == "revisionEnts" && codigo == "rechazo") {  %>
	<!-- VISTAS CRUD INACTIVAR Y RECUPERAR - Para completar el feedback y enviar a Revisi贸n -->
	<!-- VISTAS REVISION RECHAZO - Para completar el feedback y enviar a Revisi贸n -->
	<!-- Confirma el cambio de status -->
	<button type="submit" class="flechas inactivo">
		<i class="fa-solid fa-circle-right" tabindex="-1" title="Confirma el cambio de status"></i>
	</button>
<% } %>

<% if (tema == "revisionEnts" && codigo == "inactivar-o-recuperar") {  %>
	<!-- VISTAS REVISION INACTIVAR Y RECUPERAR - Para completar el feedback y enviar a 'aprobado' o 'inactivo' -->
	<div class="flechas">

		<!-- Rechaza el cambio de status -->
		<label for="desaprueba" class="inactivo">
			<i class="fa-solid fa-circle-xmark" tabindex="-1" title="Desaprueba el cambio de status"></i>
		</label>
		<input type="submit" id="desaprueba" formaction="<%= urlActual %>&desaprueba=true" formmethod="post">

		<!-- Confirma el cambio de status -->
		<button type="submit" id="aprueba">
			<i class="fa-solid fa-circle-right" tabindex="-1" title="Aprueba el cambio de status"></i>
		</button>

	</div>
<% } %>
